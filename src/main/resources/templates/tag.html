@var headCss={

.new_button{
width:100%;
height:82px;
}
#new{
float: right;
width:184px;
height:50px;
}

.ui{
padding:0px;
}
<!--.title_th{-->
<!--height:50px;-->
<!--font-size:14px;-->
<!--}-->
.table_div{
width:100%
}
<!--.table{-->
<!--width:100%;-->
<!--}-->
<!--th-->
<!--{-->
<!--border:1px solid black;-->
<!--}-->

<!--.article_id{-->
<!--width:80px;-->
<!--}-->
<!--.article_content{-->
<!--width:200px;-->
<!--}-->
<!--.count{-->
<!--width:100px;-->
<!--}-->
<!--.clasify{-->
<!--width:180px;-->
<!--}-->
<!--.tag{-->
<!--width:140px;-->
<!--}-->
<!--.show{-->
<!--width:80px;-->
<!--}-->
<!--.update_time{-->
<!--width:160px;-->
<!--}-->
<!--.operation{-->
<!--width:160px;-->
<!--}-->
<!--th{-->
<!--height:50px-->
<!--}-->
<!--table {-->
<!--border-collapse: collapse;-->
<!--}-->
<!--td{-->
<!--border:1px solid black;-->
<!--text-align:center;-->
<!--}-->

#HBox{
display: none;
}
#HCloseBtn {
width: 20px;
height: 20px;
line-height: 20px;
display: inline-block;
cursor: pointer;
color: #fff;
text-align: center;
position: absolute;
top: 8px;
right: 8px;
border-radius: 3px;
}

.list li strong {
width: 20%;
float: left;
display: inline-block;
margin-right: 10px;
text-align: right;
}
.list li {
width: 80%;
margin: 10px auto auto;
overflow: hidden;
}
.list {
padding: 25px 0;
}
strong{
strong
}
#HBox1{
display: none;
}
#HBox2{
display: none;
}
.repeat{
color:red;


}
#repeat_div{
margin-top: 50px;
margin-left: 48px;
}
#commit_div{
font-size:20px;
padding-top: 40px;
padding-left: 143px;
}

@};

@var bodyPart={

<form class="form-inline" role="form" action="/tag/index">
    <div class="form-group">
        <label>标签名</label>
        <input type="text" value="${tagName}" class="form-control" placeholder="分类名" name="tagName"/>
    </div>
    <div class="form-group">
        <label for="name">是否显示</label>
        <input type="hidden" value="${enable}" id="enable">
        <select class="form-control" name="enable">
            <option value="" ${(enable !="1" && enable !="0")?"selected='selected'":""} >全部</option>
            <option value="1" ${enable =="1"?"selected='selected'":""}>是</option>
            <option value="0" ${enable =="0"?"selected='selected'":""}>否</option>
        </select>

    </div>
    <button type="submit" class="btn btn-default" style="margin-left: 70px;">查   找</button>
    <button  type="button" style="float: right;"  class="btn btn-primary" data-toggle="modal" data-target="#myModal">+ 新建分类</button>



</form>
<!--<div class="new_button">-->
    <!--<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">+ 新建标签</button>-->
<!--</div>-->
<div class="table_div" style="    margin-top: 40px;">
    <table class="table table-hover">
        <tr>
            <th>标签id</th>
            <th>标签名称</th>
            <th>排序</th>
            <th>是否显示</th>
            <th>标签下文章数量</th>
            <th>操作</th>
        </tr>

        @for(tag in pageInfo.list){
        <tr>
            <td>${tag.tagId}</td>
            <td>${tag.tagName}</td>
            <td>${tag.sequence}</td>
            <td> ${tag.enable == "1"?"是":"否"}</td>
            <td></td>
            <td>
            <a class="updateButton" href="#" onclick="getUpdateData(${tag.tagId})">编辑</a>
            <a href="#">删除</a>
            </td>
        </tr>
        @}

        <!--<tr>-->
            <!--<td>标签id</td>-->
            <!--<td>标签名称</td>-->
            <!--<td>排序</td>-->
            <!--<td>是否显示</td>-->
            <!--<td>12</td>-->
            <!--<td>-->
                <!--<a href="/article/index">编辑</a>-->
                <!--<a href="#">删除</a>-->
            <!--</td>-->
        <!--</tr>-->




    </table>

    <!-- 分页导航 -->
    <nav >
        <ul class="pagination" style=" margin-left: 250px;margin-top: 40px;">
            <li><a href="/tag/index?pageNum=1&enable=${enable}&tagName=${tagName}">首页</a></li>
            @if(pageInfo.pageNum<=1){
            <li><a href="#">上一页</a></li>
            @}
            @if(pageInfo.pageNum>1){
            <li><a href="/tag/index?pageNum=${pageNum -1}&enable=${enable}&tagName=${tagName}">上一页</a></li>
            @}


            @for(item in pageInfo.navigatepageNums){
            @if(item == pageInfo.pageNum){
            <li class="active"><a href="javascript:void(0)">${item}</a></li>
            @}
            @if(item != pageInfo.pageNum){
            <li ><a href="/tag/index?pageNum=${item}&enable=${enable}&tagName=${tagName}">${item}</a></li>
            @}
            @}

            @if(pageInfo.pageNum< pageInfo.pages){
            <li><a href="/tag/index?pageNum=${pageNum +1}&enable=${enable}&tagName=${tagName}">下一页</a></li>
            @}

            @if(pageInfo.pageNum == pageInfo.pages){
            <li><a href="javascript:void(0)">下一页</a></li>
            @}

            @if(pageInfo.pageNum<= pageInfo.pages){
            <li><a href="/tag/index?pageNum=${pageInfo.pages}&enable=${enable}&tagName=${tagName}">末页</a></li>
            @}
        </ul>

    </nav>
</div>




@};


@var alertPart={

<!--<div id="HBox" class="animated">-->
    <!--<div id="HTitle" style="padding:10px 45px 10px 12px;border-bottom:1px solid #ddd;background-color:#f2f2f2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">-->
        <!--新建/编辑标签-->
    <!--</div>-->
    <!--<form action="" method="post" onsubmit="return false;">-->
        <!--<ul class="list">-->
            <!--<li>-->
                <!--<strong>标签id</strong>-->
                <!--<div class="fl"><input type="text" name="nickname" value="" class="ipt nickname"></div>-->
            <!--</li>-->
            <!--<li>-->
                <!--<strong>标签名称</strong>-->
                <!--<div class="fl"><input type="text" name="phone" value="" class="ipt phone"></div>-->
            <!--</li>-->
            <!--<li>-->
                <!--<strong>排序</strong>-->
                <!--<div class="fl"><input type="text" name="email" value="" class="ipt email"></div>-->
            <!--</li>-->
            <!--<li>-->
                <!--<strong>是否显示</strong>-->
                <!--<div class="fl">-->
                    <!--<label class="mr10"><input type="radio" name="sex" value="1">男</label>-->
                    <!--<label class="mr10"><input type="radio" name="sex" value="2">女</label>-->
                <!--</div>-->
            <!--</li>-->
            <!--<li><input type="submit" value="取消" ></li>-->
            <!--<li><input type="submit" value="保存" class="submitBtn"></li>-->
        <!--</ul>-->
    <!--</form>-->
    <!--<a id="HCloseBtn" title="关闭" style="background-color:#ccc;"><span>×</span></a>-->
<!--</div>-->
<!--<div id="HBox2" >-->
    <!--<div id="repeat_div">-->
        <!--<span class="repeat">标签名称重复，请尝试新的标签名称</span>-->
    <!--</div>-->
    <!--<div id="commit_div">-->
        <!--<button class="commit" >确定</button>-->
    <!--</div>-->

<!--</div>-->
<!--<div id="HBox3" >-->
    <!--<div id="repeat_div">-->
        <!--<span class="repeat">标签不能删除，建议做不显示处理</span>-->
    <!--</div>-->
    <!--<div id="commit_div">-->
        <!--<button class="commit" onclick="close()" >确定</button>-->
    <!--</div>-->

<!--</div>-->
<!--新建编辑标签-->
<div class="modal" id="myModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4>新建/编辑标签</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal" id="tag-form">
                    <input name="tagId" type="hidden" id="tagId"/>
                    <div class="form-group">
                        <label class="control-label col-xs-4">标签名称</label>
                        <div class="col-xs-8">
                            <input class="form-control" type="text" name="tagName" id="tagNamePop"/>
                        </div>

                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-4">标签颜色</label>
                        <div class="col-xs-8">
                            <input class="form-control" type="text" name="tagColor" id="tagColor"/>
                        </div>

                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-4">排序</label>
                        <div class="col-xs-8">
                            <input class="form-control" type="text" name="sequence" id="sequence"/>
                        </div>

                    </div>
                    <div class="form-group">
                        <label class="control-label col-xs-4">是否显示</label>
                        <div class="col-xs-8">
                            <!--<input class="form-control" type="text"/>-->
                            <div class="radio">
                                <label>
                                    <input type="radio" name="enable" value="1" id="yes"> 是
                                </label>

                            </div>
                            <div class="radio">
                                <label>
                                    <input type="radio" name="enable" value="0" checked id="no"> 否
                                </label>

                            </div>
                        </div>
                    </div>



                </form>


            </div>
            <div class="modal-footer">
                <button class="btn btn-default" type="button" data-dismiss="modal">关闭</button>
                <button class="btn btn-primary" type="button" id="tag-save">保存</button>
            </div>
        </div>
    </div>



</div>





@};

@var cssImport={
<link rel="stylesheet" href="../css/animate.min.css">
<link rel='stylesheet' href='../bootstrap/css/bootstrap.min.css' />
@};


@var javaScript={
<script type="text/javascript" src="../js/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../js/jquery.hDialog.js"></script>
<script type="text/javascript" src="../bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript">
    $(function(){
        //新建编辑弹框
        //$('#new').hDialog({'box':'#HBox',title:'新建/编辑标签',height:350,width:350});
        //$('#new').hDialog({'box':'#HBox2',title:'提示',height:350,width:350});
        $('#new').hDialog({'box':'#HBox3',title:'提示',height:350,width:350});




    });


    function close()
    {
        //
        alert("niho");
    }

    $('body').on('click' , '.commit' , function() {
        $('#HCloseBtn').click();
    })



    $('#tag-save').click(function() {

        $.ajax({
            type: 'post',
            url: '/tag/addOrUpdateTag',
            data:$('#tag-form').serialize(),
            success: function(result){
                if(result.code == 'success'){
                    // alert("保存成功");
                    $('.alert-danger').removeClass('hide').addClass('in');
                    window.location.href = "/tag/index";
                }else{
                    alert("保存失败");
                }

            }
        });


    });


    function getUpdateData(tagId) {
        // 查询分类数据
        $.ajax({
            type: 'get',
            url: '/tag/getTagById',
            data: {tagId: tagId},
            success: function (result) {
                $("#tagNamePop").val(result.data.tagName);
                $("#sequence").val(result.data.sequence);
                $("#tagId").val(result.data.tagId);
                $("#tagColor").val(result.data.tagColor);
                if (result.data.enable == "0") {
                    $("#no").attr("checked", "checked");
                    $("#yes").removeAttr("checked");
                } else {
                    $("#yes").attr("checked", "checked");
                    $("#no").removeAttr("checked");
                }

            }
        })


        $('#myModal').modal({
            backdrop:"static"
        });
    }



</script>

@};

@include("layout.html",{"headCss":headCss,"bodyPart":bodyPart,"cssImport":cssImport,"alertPart":alertPart,"javaScript":javaScript,title:"分类首页","tagName":2}){}
